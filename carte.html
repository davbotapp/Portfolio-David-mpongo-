<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Générateur de Cartes Pro</title>
<style>
body {
    font-family: 'Arial', sans-serif;
    background: #0d1117;
    display: flex;
    justify-content: center;
    align-items: flex-start;
    min-height: 100vh;
    margin: 0;
    padding: 20px;
    color: #fff;
}
.container {
    width: 95%;
    max-width: 700px;
    background: rgba(255,255,255,0.03);
    padding: 20px;
    border-radius: 15px;
    box-shadow: 0 8px 25px rgba(0,0,0,0.4);
    text-align: center;
}
h1 { color: skyblue; margin-bottom: 20px; }

/* Boutons */
button {
    padding: 10px 20px; 
    margin: 5px; 
    border:none; 
    border-radius: 5px; 
    cursor:pointer; 
    background:#6200ea; 
    color:#fff; 
    font-size:16px;
}
button:hover { background:#3700b3; }

/* Formulaires */
.form-group { display: none; flex-direction: column; gap: 10px; margin-bottom: 20px; }
.form-group input, .form-group select, .form-group textarea { padding: 10px; border-radius:5px; border:none; font-size:14px; width:100%; }
textarea { resize: vertical; }

/* Cartes */
.card {
    display:none;
    width: 340px; /* Taille carte réaliste */
    height: 22p0px;
    border-radius: 12px;
    position: relative;
    color: #fff;
    box-shadow: 0 6px 20px rgba(0,0,0,0.5);
    overflow: hidden;
    font-family: 'Arial', sans-serif;
    padding: 15px;
    box-sizing: border-box;
}

/* Carte style */
.card-header {
    width: 100%;
    text-align: center;
    font-weight: bold;
    font-size: 18px;
    padding: 5px 0;
    margin-bottom: 5px;
    border-bottom: 2px solid rgba(255,255,255,0.5);
}
.card-body {
    display: flex;
    gap: 15px;
    margin-top: 5px;
}
.card-body img {
    width: 80px;
    height:100px;
    object-fit: cover;
    border-radius: 8px;
    border: 2px solid #ffd700;
}
.card-info {
    flex: 1;
    font-size: 14px;
    display: flex;
    flex-direction: column;
    justify-content: space-between;
}
.card-info p { margin: 2px 0; }
.card-info p strong { width: 120px; display:inline-block; color: #ffd700; }

/* QR code */
.qr-code { width:50px; height:50px; position:absolute; bottom:10px; right:10px; border-radius:8px; overflow:hidden; }
.qr-code img { width:100%; height:100%; object-fit:cover; }

/* Styles par carte */
#studentCard { background: linear-gradient(135deg,#6200ea,#3700b3); }
#citizenCard { background: linear-gradient(135deg,#ff5722,#ff9800); }
#davbotCard { background: linear-gradient(135deg,#00bcd4,#009688); }

/* Bouton télécharger */
.download-button { margin-top: 10px; padding:8px 15px; border:none; border-radius:5px; cursor:pointer; background:#ffd700; color:#000; font-weight:bold; }
.download-button:hover { background:#ffcc00; }
</style>
</head>
<body>
<div class="container">
<h1>Générateur de Cartes Pro</h1>

<!-- Choix carte -->
<div>
<button onclick="showForm('student')">Carte d'élève</button>
<button onclick="showForm('citizen')">Carte de citoyen</button>
<button onclick="showForm('davbot')">Carte Davbot</button>
</div>

<!-- Formulaires -->
<div class="form-group" id="form-student">
    <input id="s_name" placeholder="Nom de l'élève">
    <input id="s_surname" placeholder="Prénom">
    <input id="s_age" type="number" placeholder="Âge">
    <input id="s_class" placeholder="Classe">
    <input id="s_school" placeholder="École">
    <select id="s_language">
        <option value="">Langue préférée</option>
        <option value="Français">Français</option>
        <option value="Anglais">Anglais</option>
        <option value="Lingala">Lingala</option>
    </select>
    <textarea id="s_quote" placeholder="Citation préférée"></textarea>
    <input id="s_photo" type="file" accept="image/*">
    <button onclick="generateCard('student')">Générer la Carte</button>
</div>

<div class="form-group" id="form-citizen">
    <input id="c_name" placeholder="Nom">
    <input id="c_surname" placeholder="Prénom">
    <input id="c_age" type="number" placeholder="Âge">
    <input id="c_city" placeholder="Ville">
    <input id="c_country" placeholder="Pays">
    <input id="c_idNumber" placeholder="Numéro d'identité">
    <input id="c_photo" type="file" accept="image/*">
    <button onclick="generateCard('citizen')">Générer la Carte</button>
</div>

<div class="form-group" id="form-davbot">
    <input id="d_name" placeholder="Nom">
    <input id="d_role" placeholder="Rôle">
    <input id="d_level" placeholder="Niveau">
    <input id="d_photo" type="file" accept="image/*">
    <button onclick="generateCard('davbot')">Générer la Carte</button>
</div>

<!-- Cartes -->
<div class="card" id="studentCard">
<div class="card-header">Carte d'élève</div>
<div class="card-body">
    <img id="s_cardPhoto" src="">
    <div class="card-info">
        <p><strong>Nom:</strong> <span id="s_cardName"></span></p>
        <p><strong>Prénom:</strong> <span id="s_cardSurname"></span></p>
        <p><strong>Âge:</strong> <span id="s_cardAge"></span></p>
        <p><strong>Classe:</strong> <span id="s_cardClass"></span></p>
        <p><strong>École:</strong> <span id="s_cardSchool"></span></p>
        <p><strong>Langue:</strong> <span id="s_cardLanguage"></span></p>
        <p><strong>Citation:</strong> <span id="s_cardQuote"></span></p>
    </div>
    <div class="qr-code"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=StudentCard"></div>
</div>
<button class="download-button" onclick="downloadCard('studentCard')">Télécharger</button>
</div>

<div class="card" id="citizenCard">
<div class="card-header">Carte de citoyen</div>
<div class="card-body">
    <img id="c_cardPhoto" src="">
    <div class="card-info">
        <p><strong>Nom:</strong> <span id="c_cardName"></span></p>
        <p><strong>Prénom:</strong> <span id="c_cardSurname"></span></p>
        <p><strong>Âge:</strong> <span id="c_cardAge"></span></p>
        <p><strong>Ville:</strong> <span id="c_cardCity"></span></p>
        <p><strong>Pays:</strong> <span id="c_cardCountry"></span></p>
        <p><strong>ID:</strong> <span id="c_cardIdNumber"></span></p>
    </div>
    <div class="qr-code"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=CitizenCard"></div>
</div>
<button class="download-button" onclick="downloadCard('citizenCard')">Télécharger</button>
</div>

<div class="card" id="davbotCard">
<div class="card-header">Carte Davbot</div>
<div class="card-body">
    <img id="d_cardPhoto" src="">
    <div class="card-info">
        <p><strong>Nom:</strong> <span id="d_cardName"></span></p>
        <p><strong>Rôle:</strong> <span id="d_cardRole"></span></p>
        <p><strong>Niveau:</strong> <span id="d_cardLevel"></span></p>
    </div>
    <div class="qr-code"><img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=DavbotCard"></div>
</div>
<button class="download-button" onclick="downloadCard('davbotCard')">Télécharger</button>
</div>

</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script>
function showForm(type){
    const forms = ['form-student','form-citizen','form-davbot'];
    const cards = ['studentCard','citizenCard','davbotCard'];
    forms.forEach(f=>document.getElementById(f).style.display='none');
    cards.forEach(c=>document.getElementById(c).style.display='none');
    if(type==='student') document.getElementById('form-student').style.display='flex';
    if(type==='citizen') document.getElementById('form-citizen').style.display='flex';
    if(type==='davbot') document.getElementById('form-davbot').style.display='flex';
}

function generateCard(type){
    let reader = new FileReader();

    if(type==='student'){
        let name=document.getElementById('s_name').value;
        let surname=document.getElementById('s_surname').value;
        let age=document.getElementById('s_age').value;
        let cls=document.getElementById('s_class').value;
        let school=document.getElementById('s_school').value;
        let lang=document.getElementById('s_language').value;
        let quote=document.getElementById('s_quote').value;
        let photo=document.getElementById('s_photo').files[0];
        if(!name||!surname||!age||!cls||!school||!lang||!photo){ alert('Remplissez tous les champs'); return; }
        reader.onload=function(e){
            document.getElementById('s_cardPhoto').src=e.target.result;
            document.getElementById('s_cardName').textContent=name;
            document.getElementById('s_cardSurname').textContent=surname;
            document.getElementById('s_cardAge').textContent=age;
            document.getElementById('s_cardClass').textContent=cls;
            document.getElementById('s_cardSchool').textContent=school;
            document.getElementById('s_cardLanguage').textContent=lang;
            document.getElementById('s_cardQuote').textContent=quote;
            document.getElementById('studentCard').style.display='block';
        }
        reader.readAsDataURL(photo);
    }

    if(type==='citizen'){
        let name=document.getElementById('c_name').value;
        let surname=document.getElementById('c_surname').value;
        let age=document.getElementById('c_age').value;
        let city=document.getElementById('c_city').value;
        let country=document.getElementById('c_country').value;
        let idNum=document.getElementById('c_idNumber').value;
        let photo=document.getElementById('c_photo').files[0];
        if(!name||!surname||!age||!city||!country||!idNum||!photo){ alert('Remplissez tous les champs'); return; }
        reader.onload=function(e){
            document.getElementById('c_cardPhoto').src=e.target.result;
            document.getElementById('c_cardName').textContent=name;
            document.getElementById('c_cardSurname').textContent=surname;
            document.getElementById('c_cardAge').textContent=age;
            document.getElementById('c_cardCity').textContent=city;
            document.getElementById('c_cardCountry').textContent=country;
            document.getElementById('c_cardIdNumber').textContent=idNum;
            document.getElementById('citizenCard').style.display='block';
        }
        reader.readAsDataURL(photo);
    }

    if(type==='davbot'){
        let name=document.getElementById('d_name').value;
        let role=document.getElementById('d_role').value;
        let level=document.getElementById('d_level').value;
        let photo=document.getElementById('d_photo').files[0];
        if(!name||!role||!level||!photo){ alert('Remplissez tous les champs'); return; }
        reader.onload=function(e){
            document.getElementById('d_cardPhoto').src=e.target.result;
            document.getElementById('d_cardName').textContent=name;
            document.getElementById('d_cardRole').textContent=role;
            document.getElementById('d_cardLevel').textContent=level;
            document.getElementById('davbotCard').style.display='block';
        }
        reader.readAsDataURL(photo);
    }
}

function downloadCard(cardId){
    const card = document.getElementById(cardId);
    html2canvas(card).then(canvas=>{
        const link=document.createElement('a');
        link.href=canvas.toDataURL('image/png');
        link.download=cardId+".png";
        link.click();
    });
}
</script>
</body>
</html>
